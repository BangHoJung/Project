<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="team.mapper.AdMapper">
	<select id="selectAdList" parameterType="int" resultType="board.dto.AdDTO">
		select advertise_no, ad_store_id from (select ceil(rownum / 7) as advertise_no, ad_store_id
	</select>
	<select id="selectCount" resultType="int">
		select count(*) from advertisement
	</select>
	<update id="addCount" parameterType="int">
		update advertisement set advertise_no = advertise_no+1 where ad_no = #{ad_no}
	</update>
	<select id="selectAd" parameterType="int" resultType="board.dto.AdDTO">
		select * from advertisement where advertise_no = #{ad_no}
	</select>
	<select id="newAd_no" resultType="int">		<!-- 광고페이지 시퀀스 생성 필요! -->
		select advertisement_no_seq.nextval from dual
	</select>
	<insert id="insertAd" parameterType="board.dto.AdDTO">
		insert into advertisement(advertise_no,ad_store_id,advertisement_status,advertisement_content) values(#{ad_no},#{ad_store_id},#{ad_status},#{ad_comment})
	</insert>
</mapper>